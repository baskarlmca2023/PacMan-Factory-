<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Multiple PacMan Moving</title>
</head>
<style>
    button{
        background-color: lightgreen;
        color: black;
        padding: 10px;
    }
    div{
        padding: 80px;
        /* height: 29em;
        width: 630px; */
        height: 460px;
        width: 1160px;
        border-style: solid;
        background-color: lightcyan;
    }
</style>
<body>
    <div>
    <button onclick="add()">Add Pacman</button>
    <button onclick="move()">Start Game</button>
    </div>
    <script>
        var pacman=[];
        var x_pos=[];
        var y_pos=[];
        var x_vel=[];
        var y_vel=[];
        var gravity=1;
        var mypac12=['./image/PacMan3.png','./image/PacMan2.png']
        var mypac34=['./image/PacMan3.png','./image/PacMan4.png']
        var index=0
        var direction=[]
        var velocity=15;
        
        function add(){
            var xpos=Math.random()*600
            var ypos=Math.random()*600
            var image_one=document.createElement("img")
            image_one.src="./image/PacMan1.png"
            image_one.style.width = 50 + "px"
            image_one.style.position="absolute"
            image_one.style.left = xpos + "px"
            image_one.style.top = ypos + "px"
            pacman.push(image_one)
            x_pos.push(xpos)
            y_pos.push(ypos)
            
            document.body.appendChild(image_one)
        }
        
        function move(){
            index = index +1
            for(let i=0;i<pacman.length;i++){
                var xvel=Math.floor(Math.random()*20)
                var yvel=Math.floor(Math.random()*20)
                x_vel.push(xvel)
                y_vel.push(yvel)
                var dir=Math.random()<0.5 ? 1 : -1;
                direction.push(dir)
                x_pos[i] = x_pos[i] + x_vel[i]
                y_pos[i] = y_pos[i] + y_vel[i]
                
            
                if(x_pos[i]<=0 +10 || x_pos[i]>=700){
                    x_vel[i]=-x_vel[i]*gravity
                    direction[i]=-direction[i];
                }
                if(y_pos[i]<=0 +10 || y_pos[i]>=500){
                    y_vel[i]=-y_vel[i]*gravity
                    direction[i]=-direction[i];
                    
                }
            
                
                


                if(direction[i]==1){
                    if(index % 2==0){
                       pacman[i].src=mypac12[1]
                    }
                    else{
                       pacman[i].src=mypac12[0]
                    }  

                }
                else{
                    
                    if(index % 2==0){
                        pacman[i].src=mypac34[1]
                    }
                    else{
                        pacman[i].src=mypac34[0]
                    }
                }
                    
                

                pacman[i].style.left = x_pos[i] + 'px'
                pacman[i].style.top = y_pos[i] + 'px'
                
            }
            
            
            

            setTimeout(move,50)
        }
        
    </script>
</body>
</html>








<!-- 
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Multiple PacMan Moving</title>
</head>
<body>
    <button onclick="create()">Add PacMan</button>
    <button onclick="move()">Start Game</button>
    <script>
        var pacman = [];
        var x_pos = [];
        var y_pos = [];
        var x_vel = [];
        var y_vel = [];

        function create() {
            let xpos = Math.random() * 500;
            let ypos = Math.random() * 500;
            let xvel = Math.floor(Math.random() * 20);
            let yvel = Math.floor(Math.random() * 20);
            var new_img = document.createElement("img");
            new_img.src = "./img/PacMan1.png";
            new_img.style.width = "50px";
            new_img.style.left = xpos + 'px';
            new_img.style.top = ypos + 'px';
            new_img.style.position = "absolute";
            document.body.appendChild(new_img);
            pacman.push(new_img);
            x_pos.push(xpos);
            y_pos.push(ypos);
            x_vel.push(xvel);
            y_vel.push(yvel);
        }

        function move() {
            for (let i = 0; i < pacman.length; i++) {
                x_pos[i] = x_pos[i] + x_vel[i];
                y_pos[i] = y_pos[i] + y_vel[i];
                if(x_pos[i]>1000 || x_pos[i]<0){
                    x_vel[i]=-x_vel[i]*1
                }
                if(y_pos[i]>600 || y_pos[i]<0){
                    y_vel[i]=-y_vel[i]*1
                }
                pacman[i].style.left = x_pos[i] + 'px';
                pacman[i].style.top = y_pos[i] + 'px';
            }
            setTimeout(move, 100);
        }
    </script>
</body>
</html> -->







